(this["webpackJsonpdiet-app-front"]=this["webpackJsonpdiet-app-front"]||[]).push([[0],{236:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(61),c=n.n(i),s=(n(236),n(140)),o=n(21),l=n(6),d=n(11),u=n(209),j=n(424),b=n(119),x=n(443),h=n(430),p=n(453),O=n(14),f=n.n(O),m=n(20),g=n(442),v=n(450),y=n(436),w=n(451),S=n(417),C=n(433),k=n(429),z=n(415),I=n(34),N=n.n(I),B=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/ingredient/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/ingredient?Page=1&PageSize=100");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.pagination);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.put("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/ingredient/"+t,{name:n.name});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/ingredient",{name:t.name});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/ingredient/"+t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/meal?Page=1&PageSize=100");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.pagination);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete n.id,null===(a=n.mealIngredients)||void 0===a||a.filter((function(e){return delete e.name})),e.prev=2,e.next=5,N.a.put("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/meal/"+t,Object(d.a)({},n));case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,null===(n=t.mealIngredients)||void 0===n||n.filter((function(e){return delete e.name})),e.prev=2,e.next=5,N.a.post("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/meal",Object(d.a)({},t));case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/meal/"+t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/diet?Page=1&PageSize=100");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.pagination);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/diet/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a,r,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete n.id,delete n.imageRef,i=null===(a=n.categories)||void 0===a?void 0:a.map((function(e){return e.id})),delete n.categories,c=null===(r=n.meals)||void 0===r?void 0:r.map((function(e,t){return{id:e.id,mealNumber:t}})),delete n.meals,e.prev=6,e.next=9,N.a.put("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/diet/"+t,Object(d.a)(Object(d.a)({},n),{},{categoryIds:i,dietMeals:c}));case 9:return e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.id,delete t.imageRef,r=null===(n=t.categories)||void 0===n?void 0:n.map((function(e){return e.id})),delete t.categories,i=null===(a=t.meals)||void 0===a?void 0:a.map((function(e,t){return{id:e.id,mealNumber:t}})),delete t.meals,e.prev=6,e.next=9,N.a.post("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/diet",Object(d.a)(Object(d.a)({},t),{},{categoryIds:r,dietMeals:i}));case 9:return e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.delete("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/diet/"+t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com/category?Page=1&PageSize=100");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.pagination);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=n(74),U=n.n(G),Z=n(0),V={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",border:"2px solid #000",boxShadow:24,p:4};function X(){var e=r.a.useState(void 0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=r.a.useState(null),s=Object(l.a)(c,2),o=s[0],u=s[1],j=r.a.useState(!1),x=Object(l.a)(j,2),h=x[0],p=x[1],O=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var I=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&o.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F(o.id);case 4:e.sent?(p(!1),u(null),window.location.reload()):alert("Couldn't delete ingredient. Please try again later.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&o.name){e.next=2;break}return e.abrupt("return");case 2:if(!h){e.next=11;break}if(o.id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,W(o.id,o);case 7:e.sent?(p(!1),u(null),window.location.reload()):alert("Couldn't save ingredient. Please try again later."),e.next=15;break;case 11:return e.next=13,A(o);case 13:e.sent?(u(null),window.location.reload()):alert("Couldn't save ingredient. Please try again later.");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(z.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(Z.jsx)(g.a,{variant:"contained",onClick:function(){return u({name:""})},children:"New ingredient"})}),Object(Z.jsx)(v.a,{children:n&&n.map((function(e,t){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){p(!0),u(e)},children:Object(Z.jsx)(U.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name})},"ingredient-".concat(t,"-id"))}))}),Object(Z.jsx)(C.a,{open:Boolean(o),onClose:function(){p(!1),u(null)},"aria-labelledby":"edit-ingredient-modal",children:Object(Z.jsxs)(z.a,{sx:V,children:[Object(Z.jsxs)("div",{style:{marginBottom:16},children:[Object(Z.jsx)(b.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:null===o||void 0===o?void 0:o.name}),Object(Z.jsx)(b.a,{id:"modal-modal-subtitle",variant:"subtitle2",children:null===o||void 0===o?void 0:o.id})]}),Object(Z.jsx)(k.a,{id:"edit-ingredient-name-input",label:"Name",variant:"outlined",required:!0,type:"text",sx:{width:"100%",margin:"16px 0px 16px 0px",boxSizing:"border-box"},value:null===o||void 0===o?void 0:o.name,onChange:function(e){return u(Object(d.a)(Object(d.a)({},o),{},{name:e.target.value}))}}),Object(Z.jsxs)(z.a,{sx:{justifyContent:"flex-end",display:"flex",marginTop:"16px"},children:[h&&Object(Z.jsx)(g.a,{variant:"contained",color:"error",sx:{marginRight:"8px"},onClick:I,children:"Delete"}),Object(Z.jsx)(g.a,{variant:"contained",onClick:N,disabled:!(null===o||void 0===o?void 0:o.name),children:h?"Save":"Create"})]})]})})]})}var K=n(423),Q=n(42),$=n.n(Q),_=n(84),ee=n.n(_),te={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",border:"2px solid #000",boxShadow:24,p:4},ne=function(e){var t=r.a.useState(null),n=Object(l.a)(t,2),i=n[0],c=n[1],s=r.a.useState(null),o=Object(l.a)(s,2),u=o[0],j=o[1],x=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(z.a,{sx:{maxHeight:"500px",overflowY:"auto"},children:[Object(Z.jsx)(b.a,{variant:"h5",sx:{marginBottom:"16px"},children:"Ingredients"}),Object(Z.jsx)(v.a,{children:i&&i.map((function(e,t){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){var t={ingredientId:e.id,name:e.name,amount:0,notes:""};j(t)}(e)},children:Object(Z.jsx)($.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name})},"ingredient-".concat(t,"-id"))}))})]}),Object(Z.jsx)(C.a,{open:Boolean(u),onClose:function(){j(null)},"aria-labelledby":"add-ingredient-modal",children:Object(Z.jsx)(Z.Fragment,{children:u&&Object(Z.jsxs)(z.a,{sx:te,children:[Object(Z.jsx)(b.a,{variant:"h5",style:{marginBottom:16},children:u.name}),Object(Z.jsxs)(z.a,{children:[Object(Z.jsx)(k.a,{type:"number",label:"Quantity",required:!0,sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},onChange:function(e){j(Object(d.a)(Object(d.a)({},u),{},{amount:Number(e.target.value)}))}}),Object(Z.jsx)(k.a,{type:"text",label:"Notes",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},onChange:function(e){j(Object(d.a)(Object(d.a)({},u),{},{notes:e.target.value}))}})]}),Object(Z.jsx)(z.a,{sx:{justifyContent:"flex-end",display:"flex",marginTop:"16px"},children:Object(Z.jsx)(g.a,{variant:"contained",sx:{alignSelf:"flex-end"},onClick:function(){e.onSelectIngredient(u)},disabled:!u.amount,children:"Add"})})]})})})]})},ae={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",border:"2px solid #000",boxShadow:24,p:4};function re(){var e=r.a.useState(null),t=Object(l.a)(e,2),n=t[0],i=t[1],c=r.a.useState(!1),s=Object(l.a)(c,2),o=s[0],u=s[1],j=r.a.useState(null),x=Object(l.a)(j,2),h=x[0],p=x[1],O=r.a.useState(!1),I=Object(l.a)(O,2),N=I[0],P=I[1],W=r.a.useState(null),A=Object(l.a)(W,2),F=A[0],T=A[1],H=r.a.useState(!1),J=Object(l.a)(H,2),R=J[0],L=J[1],Y=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h&&F&&(L(!0),Promise.all(F.map(function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t.ingredientId);case 2:return n=e.sent,e.abrupt("return",Object(d.a)(Object(d.a)({},t),{},{name:n.name}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){e&&(T(e),L(!1))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!R&&G()}),[F]),Object(a.useEffect)((function(){Y()}),[]);var V=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&h.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D(h.id);case 4:e.sent?(u(!1),p(null),window.location.reload()):alert("Couldn't delete meal. Please try again later.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&((t=h).name&&t.kilocalories&&t.preparation&&t.mealIngredients&&t.mealIngredients.length>0)){e.next=3;break}return alert("Please fill out all of the required fields."),e.abrupt("return");case 3:if(!o){e.next=12;break}if(h.id){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,q(h.id,h);case 8:e.sent?(u(!1),p(null),window.location.reload()):alert("Couldn't save meal. Please try again later."),e.next=16;break;case 12:return e.next=14,E(h);case 14:e.sent?(p(null),window.location.reload()):alert("Couldn't create meal. Please try again later.");case 16:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(z.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(Z.jsx)(g.a,{variant:"contained",onClick:function(){T(null),p({name:""})},children:"New meal"})}),Object(Z.jsx)(v.a,{children:n&&n.map((function(e,t){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){u(!0),T(e.mealIngredients),p(e)},children:Object(Z.jsx)(U.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name,secondary:e.kilocalories+" kcal"})},"meal-".concat(t,"-id"))}))}),Object(Z.jsx)(C.a,{open:Boolean(h),onClose:function(){u(!1),p(null),T(null)},"aria-labelledby":"meal-modal",children:Object(Z.jsxs)(z.a,{sx:ae,style:{maxHeight:600,overflowY:"auto"},children:[Object(Z.jsxs)("div",{style:{marginBottom:16},children:[Object(Z.jsx)(b.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:null===h||void 0===h?void 0:h.name}),Object(Z.jsx)(b.a,{id:"modal-modal-subtitle",variant:"subtitle2",children:null===h||void 0===h?void 0:h.id})]}),Object(Z.jsx)(k.a,{id:"meal-name-input",label:"Name",variant:"outlined",required:!0,type:"text",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},value:null===h||void 0===h?void 0:h.name,onChange:function(e){return p(Object(d.a)(Object(d.a)({},h),{},{name:e.target.value}))}}),Object(Z.jsx)(k.a,{id:"meal-kcals-input",label:"Kilocalories",variant:"outlined",required:!0,type:"number",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},value:null===h||void 0===h?void 0:h.kilocalories,onChange:function(e){return p(Object(d.a)(Object(d.a)({},h),{},{kilocalories:Number(e.target.value)}))}}),Object(Z.jsx)(k.a,{id:"meal-preparation-input",label:"Preparation",variant:"outlined",required:!0,type:"text",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},value:null===h||void 0===h?void 0:h.preparation,onChange:function(e){return p(Object(d.a)(Object(d.a)({},h),{},{preparation:e.target.value}))}}),Object(Z.jsxs)(z.a,{children:[Object(Z.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(Z.jsx)(b.a,{children:"Ingredients"}),Object(Z.jsx)(w.a,{onClick:function(){return P(!0)},children:Object(Z.jsx)($.a,{})})]}),Object(Z.jsx)(v.a,{dense:!0,children:h&&F&&F.map((function(e,t){return Object(Z.jsx)(y.a,{dense:!0,secondaryAction:Object(Z.jsx)(K.a,{onClick:function(){var t=F.filter((function(t){return e.ingredientId!==t.ingredientId}));T(t),p(Object(d.a)(Object(d.a)({},h),{},{mealIngredients:t}))},children:Object(Z.jsx)(ee.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name,secondary:e.amount+(e.notes?" \xb7 "+e.notes:"")})},"ing-".concat(t,"-id"))}))})]}),Object(Z.jsxs)(z.a,{sx:{justifyContent:"flex-end",display:"flex",marginTop:"16px"},children:[o&&Object(Z.jsx)(g.a,{variant:"contained",color:"error",sx:{marginRight:"8px"},onClick:V,children:"Delete"}),Object(Z.jsx)(g.a,{variant:"contained",sx:{alignSelf:"flex-end"},onClick:X,disabled:!(null===h||void 0===h?void 0:h.name),children:o?"Save":"Create"})]})]})}),Object(Z.jsx)(C.a,{open:N,onClose:function(){P(!1)},"aria-labelledby":"add-ingredient-modal",children:Object(Z.jsx)(z.a,{sx:ae,children:Object(Z.jsx)(ne,{onSelectIngredient:function(e){var t=F;t?t.push(e):t=[e],T(t),p(Object(d.a)(Object(d.a)({},h),{},{mealIngredients:t})),P(!1)}})})})]})}var ie=function(e){var t=r.a.useState(null),n=Object(l.a)(t,2),i=n[0],c=n[1],s=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){s()}),[]);return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(z.a,{sx:{maxHeight:"500px",overflowY:"auto"},children:[Object(Z.jsx)(b.a,{variant:"h5",sx:{marginBottom:"16px"},children:"Categories"}),Object(Z.jsx)(v.a,{children:i&&i.map((function(t,n){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){return function(t){e.onSelectCategory(t)}(t)},children:Object(Z.jsx)($.a,{})}),children:Object(Z.jsx)(S.a,{primary:t.name})},"category-".concat(n,"-id"))}))})]})})},ce=function(e){var t=r.a.useState(null),n=Object(l.a)(t,2),i=n[0],c=n[1],s=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){s()}),[]);return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(z.a,{sx:{maxHeight:"500px",overflowY:"auto"},children:[Object(Z.jsx)(b.a,{variant:"h5",sx:{marginBottom:"16px"},children:"Meals"}),Object(Z.jsx)(v.a,{children:i&&i.map((function(t,n){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){return function(t){e.onSelectMeal(t)}(t)},children:Object(Z.jsx)($.a,{})}),children:Object(Z.jsx)(S.a,{primary:t.name})},"meal-".concat(n,"-id"))}))})]})})},se={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"white",border:"2px solid #000",boxShadow:24,p:4};function oe(){var e=r.a.useState(null),t=Object(l.a)(e,2),n=t[0],i=t[1],c=r.a.useState(null),s=Object(l.a)(c,2),o=s[0],u=s[1],j=r.a.useState(!1),x=Object(l.a)(j,2),h=x[0],p=x[1],O=r.a.useState(!1),I=Object(l.a)(O,2),N=I[0],B=I[1],P=r.a.useState(!1),W=Object(l.a)(P,2),A=W[0],F=W[1],M=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[]);var q=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:(n=e.sent)&&u(Object(d.a)(Object(d.a)({},n),{},{id:t}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&o.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L(o.id);case 4:e.sent?(p(!1),u(null),window.location.reload()):alert("Couldn't delete diet. Please try again later.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&((t=o).name&&t.description&&t.imageRef&&t.categories&&t.categories.length>0&&t.meals&&t.meals.length>0)){e.next=3;break}return alert("Please fill out all of the required fields."),e.abrupt("return");case 3:if(!h){e.next=12;break}if(o.id){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,J(o.id,o);case 8:e.sent?(p(!1),u(null),window.location.reload()):alert("Couldn't save diet. Please try again later."),e.next=16;break;case 12:return e.next=14,R(o);case 14:e.sent?(u(null),window.location.reload()):alert("Couldn't create diet. Please try again later.");case 16:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(z.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(Z.jsx)(g.a,{variant:"contained",onClick:function(){u({name:"",imageRef:"missing"})},children:"New diet"})}),Object(Z.jsx)(v.a,{children:n&&n.map((function(e,t){return Object(Z.jsx)(y.a,{secondaryAction:Object(Z.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){p(!0),q(e.id)},children:Object(Z.jsx)(U.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name})},"diet-".concat(t,"-id"))}))}),Object(Z.jsx)(C.a,{open:Boolean(o),onClose:function(){p(!1),u(null)},"aria-labelledby":"diet-modal",children:Object(Z.jsxs)(z.a,{sx:se,style:{maxHeight:600,overflowY:"auto"},children:[Object(Z.jsxs)("div",{style:{marginBottom:16},children:[Object(Z.jsx)(b.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:null===o||void 0===o?void 0:o.name}),Object(Z.jsx)(b.a,{id:"modal-modal-subtitle",variant:"subtitle2",children:null===o||void 0===o?void 0:o.id})]}),Object(Z.jsx)(k.a,{id:"diet-name-input",label:"Name",variant:"outlined",required:!0,type:"text",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},value:null===o||void 0===o?void 0:o.name,onChange:function(e){return u(Object(d.a)(Object(d.a)({},o),{},{name:e.target.value}))}}),Object(Z.jsx)(k.a,{id:"diet-description-input",label:"Description",variant:"outlined",required:!0,type:"text",sx:{width:"100%",margin:"8px 0px 8px 0px",boxSizing:"border-box"},value:null===o||void 0===o?void 0:o.description,onChange:function(e){return u(Object(d.a)(Object(d.a)({},o),{},{description:e.target.value}))}}),Object(Z.jsxs)(z.a,{children:[Object(Z.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(Z.jsx)(b.a,{children:"Categories"}),Object(Z.jsx)(w.a,{onClick:function(){return B(!0)},children:Object(Z.jsx)($.a,{})})]}),Object(Z.jsx)(v.a,{dense:!0,children:o&&o.categories&&o.categories.map((function(e,t){return Object(Z.jsx)(y.a,{dense:!0,secondaryAction:Object(Z.jsx)(K.a,{onClick:function(){var t=o.categories.filter((function(t){return e.id!==t.id}));u(Object(d.a)(Object(d.a)({},o),{},{categories:t}))},children:Object(Z.jsx)(ee.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name})},"category-".concat(t,"-id"))}))})]}),Object(Z.jsxs)(z.a,{children:[Object(Z.jsxs)(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(Z.jsx)(b.a,{children:"Meals"}),Object(Z.jsx)(w.a,{onClick:function(){return F(!0)},children:Object(Z.jsx)($.a,{})})]}),Object(Z.jsx)(v.a,{dense:!0,children:o&&o.meals&&o.meals.map((function(e,t){return Object(Z.jsx)(y.a,{dense:!0,secondaryAction:Object(Z.jsx)(K.a,{onClick:function(){var e,n=null===(e=o.meals)||void 0===e?void 0:e.filter((function(e,n){return t!==n}));u(Object(d.a)(Object(d.a)({},o),{},{meals:n}))},children:Object(Z.jsx)(ee.a,{})}),children:Object(Z.jsx)(S.a,{primary:e.name,secondary:e.kilocalories+" kcal"})},"meal-".concat(t,"-id"))}))})]}),Object(Z.jsxs)(z.a,{sx:{justifyContent:"flex-end",display:"flex",marginTop:"16px"},children:[h&&Object(Z.jsx)(g.a,{variant:"contained",color:"error",sx:{marginRight:"8px"},onClick:E,children:"Delete"}),Object(Z.jsx)(g.a,{variant:"contained",sx:{alignSelf:"flex-end"},onClick:D,disabled:!(null===o||void 0===o?void 0:o.name),children:h?"Save":"Create"})]})]})}),Object(Z.jsx)(C.a,{open:N,onClose:function(){B(!1)},"aria-labelledby":"add-category-modal",children:Object(Z.jsx)(z.a,{sx:se,children:Object(Z.jsx)(ie,{onSelectCategory:function(e){var t=null===o||void 0===o?void 0:o.categories;t?t.push(e):t=[e],u(Object(d.a)(Object(d.a)({},o),{},{categories:t})),B(!1)}})})}),Object(Z.jsx)(C.a,{open:A,onClose:function(){F(!1)},"aria-labelledby":"add-meal-modal",children:Object(Z.jsx)(z.a,{sx:se,children:Object(Z.jsx)(ce,{onSelectMeal:function(e){var t=null===o||void 0===o?void 0:o.meals;t?t.push(e):t=[e],u(Object(d.a)(Object(d.a)({},o),{},{meals:t})),F(!1)}})})})]})}function le(e){var t=e.children,n=e.value,a=e.index,r=Object(u.a)(e,["children","value","index"]);return Object(Z.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(Z.jsx)(j.a,{sx:{p:3},children:Object(Z.jsx)(b.a,{children:t})})}))}function de(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ue(){var e=r.a.useState(0),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(Z.jsxs)(x.a,{maxWidth:"xl",children:[Object(Z.jsx)("h1",{children:"Configurator"}),Object(Z.jsxs)(j.a,{sx:{width:"100%"},children:[Object(Z.jsx)(j.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(Z.jsxs)(h.a,{value:n,onChange:function(e,t){a(t)},"aria-label":"basic tabs example",children:[Object(Z.jsx)(p.a,Object(d.a)({label:"Ingredients"},de(0))),Object(Z.jsx)(p.a,Object(d.a)({label:"Meals"},de(1))),Object(Z.jsx)(p.a,Object(d.a)({label:"Diets"},de(2)))]})}),Object(Z.jsx)(le,{value:n,index:0,children:Object(Z.jsx)(X,{})}),Object(Z.jsx)(le,{value:n,index:1,children:Object(Z.jsx)(re,{})}),Object(Z.jsx)(le,{value:n,index:2,children:Object(Z.jsx)(oe,{})})]})]})}var je=n(437),be="/login",xe="/signup",he="/dashboard",pe="/browse",Oe="/account",fe="/help",me="/admin/configurator",ge="/diets",ve=n(444),ye=n(454),we=n(445),Se=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ce="http://algofit-qa-alb-599938117.us-east-1.elb.amazonaws.com",ke={login:Ce+"/login",biometric:Ce+"/biometric",signup:Ce+"/signup",category:Ce+"/category",diet:Ce+"/diet",dashboard:Ce+"/dashboard",meal:Ce+"/meal",user:Ce+"/profile"};function ze(){var e=Object(a.useState)(void 0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(void 0),c=Object(l.a)(i,2),s=c[0],d=c[1],u=Object(o.f)();return Object(Z.jsxs)(ve.a,{children:[Object(Z.jsxs)(we.a,{sx:{boxSizing:"border-box",width:450},children:[Object(Z.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Z.jsx)(b.a,{color:"text.primary",variant:"h5",textAlign:"center",children:"Welcome to AlgoFit!"}),Object(Z.jsx)(b.a,{color:"text.secondary",variant:"subtitle1",textAlign:"center",children:"Please enter your credentials"})]}),Object(Z.jsx)(k.a,{id:"login-email-input",label:"Email",variant:"outlined",required:!0,type:"email",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:n,onChange:function(e){return function(e){var t=e.match(Se);r(t?e:void 0)}(e.target.value)}}),Object(Z.jsx)(k.a,{id:"login-password-input",label:"Password",variant:"outlined",required:!0,type:"password",sx:{width:"100%"},value:s,onChange:function(e){return function(e){var t=e.length<=24;d(t?e:void 0)}(e.target.value)}})]}),Object(Z.jsx)(ye.a,{sx:{justifyContent:"flex-end",padding:"0px 16px 16px 16px"},children:Object(Z.jsx)(g.a,{size:"large",variant:"contained",disabled:!(n&&s),onClick:function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s})};fetch(ke.login,e).then((function(e){return e.json()})).then((function(e){"string"===typeof e?alert("Error. Usuario inv\xe1lido."):(localStorage.setItem("user",JSON.stringify(e)),"Customer"===e.type?u.push(he):u.push(me))}))},children:"Login"})})]})}function Ie(){var e=Object(o.f)();return Object(a.useEffect)((function(){localStorage.getItem("user")&&e.push(he)})),Object(Z.jsx)("div",{style:{backgroundColor:"#F8F8F8"},children:Object(Z.jsx)(x.a,{maxWidth:"md",children:Object(Z.jsx)(je.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(Z.jsxs)(je.a,{item:!0,xs:3,children:[Object(Z.jsx)(ze,{}),Object(Z.jsxs)("div",{style:{padding:16},children:[Object(Z.jsx)(b.a,{textAlign:"center",children:"Don't have an account yet?"}),Object(Z.jsxs)(b.a,{textAlign:"center",children:["Sign up ",Object(Z.jsx)("a",{href:xe,children:"here"})]})]})]})})})})}function Ne(){var e=Object(a.useState)(void 0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(void 0),c=Object(l.a)(i,2),s=c[0],d=c[1],u=Object(a.useState)(void 0),j=Object(l.a)(u,2),x=j[0],h=j[1],p=Object(a.useState)(void 0),O=Object(l.a)(p,2),f=O[0],m=O[1],v=Object(a.useState)(void 0),y=Object(l.a)(v,2),w=y[0],S=y[1],C=Object(a.useState)(void 0),z=Object(l.a)(C,2),I=z[0],N=z[1],B=Object(a.useState)(void 0),P=Object(l.a)(B,2),W=P[0],A=P[1],F=Object(o.f)();return Object(Z.jsxs)(ve.a,{children:[Object(Z.jsxs)(we.a,{sx:{boxSizing:"border-box",width:450},children:[Object(Z.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Z.jsx)(b.a,{color:"text.primary",variant:"h5",textAlign:"center",children:"Welcome to AlgoFit!"}),Object(Z.jsx)(b.a,{color:"text.secondary",variant:"subtitle1",textAlign:"center",children:"You'll be ready in just a minute"})]}),Object(Z.jsxs)("div",{style:{display:"flex"},children:[Object(Z.jsx)(k.a,{id:"signup-first-name-input",label:"First name",variant:"outlined",required:!0,type:"text",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box",marginRight:"4px"},value:n,onChange:function(e){return r(e.target.value)}}),Object(Z.jsx)(k.a,{id:"signup-last-name-input",label:"Last name",variant:"outlined",required:!0,type:"text",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box",marginLeft:"4px"},value:s,onChange:function(e){return d(e.target.value)}})]}),Object(Z.jsx)(k.a,{id:"signup-phone-input",label:"Phone",variant:"outlined",required:!0,type:"tel",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:x,onChange:function(e){return h(e.target.value)}}),Object(Z.jsx)(k.a,{id:"signup-email-input",label:"Email",variant:"outlined",required:!0,type:"email",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:f,onChange:function(e){return function(e){var t=e.match(Se);m(t?e:void 0)}(e.target.value)}}),Object(Z.jsx)(k.a,{id:"signup-confirm-email-input",label:"Confirm email",variant:"outlined",required:!0,type:"email",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:w,onChange:function(e){return S(e.target.value)}}),Object(Z.jsx)(k.a,{id:"signup-password-input",label:"Password",variant:"outlined",required:!0,type:"password",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:I,onChange:function(e){return function(e){var t=e.length<=24;N(t?e:void 0)}(e.target.value)}}),Object(Z.jsx)(k.a,{id:"signup-confirm-password-input",label:"Confirm password",variant:"outlined",required:!0,type:"password",sx:{width:"100%"},value:W,onChange:function(e){return A(e.target.value)}})]}),Object(Z.jsx)(ye.a,{sx:{justifyContent:"flex-end",padding:"0px 16px 16px 16px"},children:Object(Z.jsx)(g.a,{size:"large",variant:"contained",disabled:!(f&&w&&I&&W&&n&&s&&x),onClick:function(){if(f===w)if(I===W){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n,lastName:s,phone:x,email:f,confirmEmail:w,password:I,confirmPassword:W})};fetch(ke.signup,e).then((function(e){return e.json()})).then((function(e){"string"===typeof e?alert("Error. Usuario ya existe."):(localStorage.setItem("user",JSON.stringify(e)),"Customer"===e.type?F.push(he):F.push(me))})).catch((function(){alert("Error. Usuario ya existe.")}))}else alert("Password doesn't match");else alert("Email doesn't match")},children:"Signup"})})]})}function Be(){var e=Object(o.f)();return Object(a.useEffect)((function(){localStorage.getItem("user")&&e.push(he)})),Object(Z.jsx)("div",{style:{backgroundColor:"#F8F8F8"},children:Object(Z.jsx)(x.a,{maxWidth:"md",children:Object(Z.jsx)(je.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(Z.jsxs)(je.a,{item:!0,xs:3,children:[Object(Z.jsx)(Ne,{}),Object(Z.jsxs)("div",{style:{padding:16},children:[Object(Z.jsx)(b.a,{textAlign:"center",children:"Already have an account?"}),Object(Z.jsxs)(b.a,{textAlign:"center",children:["Log in ",Object(Z.jsx)("a",{href:be,children:"here"})]})]})]})})})})}var Pe=n(431),We=n(434),Ae=n(196),Fe=n.n(Ae),Me=n(197),qe=n.n(Me),Ee=Object(Z.jsx)(Fe.a,{fontSize:"small"}),De=Object(Z.jsx)(qe.a,{fontSize:"small"});function Te(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){fetch(ke.category+"?Page=1&PageSize=100").then((function(e){return e.json()})).then((function(e){i(e.pagination)}))}),[]),Object(Z.jsx)(j.a,{sx:{flexGrow:1},children:Object(Z.jsxs)(je.a,{container:!0,spacing:2,children:[Object(Z.jsx)(je.a,{item:!0,xs:12,sm:7,children:Object(Z.jsx)(k.a,{fullWidth:!0,label:"Diet name",color:"primary",onChange:function(t){e.updateDietNameSearch(t.target.value)}})}),Object(Z.jsx)(je.a,{item:!0,xs:12,sm:5,children:Object(Z.jsx)(We.a,{multiple:!0,id:"checkboxes-categories-serach",options:r,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var a=n.selected;return Object(Z.jsxs)("li",Object(d.a)(Object(d.a)({},e),{},{children:[Object(Z.jsx)(Pe.a,{icon:Ee,checkedIcon:De,style:{marginRight:8},checked:a}),t.name]}))},renderInput:function(e){return Object(Z.jsx)(k.a,Object(d.a)(Object(d.a)({},e),{},{label:"Categories",placeholder:"Weight loss, Detox, etc."}))},onChange:function(t,n){return e.updateDietCategoriesSearch(n)}})})]})})}var He=n(22),Je=n(457),Re=n(440),Le=n(455);function Ye(e){return Object(Z.jsxs)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:[Object(Z.jsx)(Le.a,{title:e.name}),Object(Z.jsx)(we.a,{children:Object(Z.jsx)(b.a,{variant:"body2",color:"text.secondary",children:e.description})}),Object(Z.jsx)(ye.a,{children:Object(Z.jsx)(g.a,{children:" See more "})})]})}var Ge=n(447),Ue=n(438),Ze=n(425),Ve=n(446),Xe=n(456),Ke=n(439);function Qe(e){return Object(Z.jsx)(v.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:e.meals.map((function(e,t){var n=e.kilocalories+" kilocalories";return Object(Z.jsxs)(y.a,{children:[Object(Z.jsx)(Xe.a,{children:Object(Z.jsx)(Ke.a,{children:t+1})}),Object(Z.jsx)(S.a,{primary:e.name,secondary:n})]},t)}))})}function $e(e){var t=Object(a.useState)(void 0),n=Object(l.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);(function(e){return e.avatar&&e.firstName&&e.lastName&&e.type})(t)&&fetch(ke.user+"/".concat(t.id)).then((function(e){return e.json()})).then((function(e){i(e)}))}}),[i]);var c=function(){var t=r;t.dietId=e.id,fetch(ke.diet+"/".concat(e.id,"/user/").concat(null===r||void 0===r?void 0:r.id),{method:"PUT"}),i(Object(d.a)({},t)),localStorage.setItem("user",JSON.stringify(t))};return Object(Z.jsxs)(ve.a,{style:{overflow:"auto"},children:[Object(Z.jsx)(Ge.a,{component:"img",height:"140",image:e.imageRef}),Object(Z.jsxs)(we.a,{children:[Object(Z.jsxs)(Ze.a,{spacing:2,direction:"row",children:[Object(Z.jsx)(g.a,{size:"small",href:ge+"/".concat(e.id),children:"View more"}),void 0!==r?r.dietId!==e.id?Object(Z.jsx)(g.a,{size:"small",color:"secondary",onClick:c,children:'Add to "My Diet"'}):Object(Z.jsx)(g.a,{variant:"contained",color:"success",children:"This is your Diet!"}):Object(Z.jsx)(Ve.a,{title:"Log in to add a diet",arrow:!0,children:Object(Z.jsx)("span",{children:Object(Z.jsx)(g.a,{disabled:!0,children:'Add to "My Diet"'})})})]}),Object(Z.jsx)(b.a,{gutterBottom:!0,variant:"h4",component:"div",children:e.name}),Object(Z.jsx)(b.a,{variant:"body2",color:"text.secondary",children:e.description}),Object(Z.jsxs)(j.a,{sx:{mb:1},children:[Object(Z.jsx)(b.a,{variant:"h6",component:"div",children:"Diet categories"}),Object(Z.jsx)(Ze.a,{direction:"row",spacing:1,children:e.categories.map((function(e){return Object(Z.jsx)(Ve.a,{title:e.description,arrow:!0,children:Object(Z.jsx)(Ue.a,{label:e.name,variant:"outlined"})},e.id)}))})]}),Object(Z.jsx)(b.a,{variant:"h6",component:"div",children:"Meals in this diet"}),Object(Z.jsx)(Qe,Object(d.a)({},e))]})]})}function _e(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)({}),s=Object(l.a)(c,2),o=s[0],u=s[1],b=Object(a.useState)([]),x=Object(l.a)(b,2),h=x[0],p=x[1],O=Object(a.useState)(!1),g=Object(l.a)(O,2),v=g[0],y=g[1];return Object(a.useEffect)((function(){var t=!1,n=ke.diet+"?Page=1&PageSize=100";function a(){return(a=Object(m.a)(f.a.mark((function e(){var t,a,r,i,c,s,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=[],i=Object(He.a)(a.pagination),e.prev=8,i.s();case 10:if((c=i.n()).done){e.next=22;break}return s=c.value,e.next=14,fetch(ke.diet+"/".concat(s.id));case 14:return o=e.sent,e.next=17,o.json();case 17:(l=e.sent).id=s.id,r.push(l);case 20:e.next=10;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(8),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:p(r),y(!1);case 32:case"end":return e.stop()}}),e,null,[[8,24,27,30]])})))).apply(this,arguments)}e.dietCategoriesSearch.length>0&&(t=!0,e.dietCategoriesSearch.forEach((function(e){n+="&categoryIds=".concat(e.id)}))),e.dietNameSearch.length>0&&(t=!0,n+="&searchText=".concat(encodeURIComponent(e.dietNameSearch))),t&&(y(!0),function(){a.apply(this,arguments)}())}),[e.dietNameSearch,e.dietCategoriesSearch]),Object(Z.jsx)(Z.Fragment,{children:v?Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)(Je.a,{})}):h.length>0?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Re.a,{onClose:function(){return i(!1)},open:r,children:Object(Z.jsx)($e,Object(d.a)({},o))}),Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)(j.a,{sx:{flexGrow:1},children:Object(Z.jsx)(je.a,{container:!0,children:h.map((function(e){return Object(Z.jsx)(je.a,{item:!0,xs:12,sm:4,md:3,children:Object(Z.jsx)("div",{onClick:function(){return function(e){i(!0),u(e)}(e)},children:Object(Z.jsx)(Ye,Object(d.a)({},e))})},e.id)}))})})})]}):Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)("p",{children:"No results matched the search criteria..."})})})}function et(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){e.handleSearchActivation(r.length>0||(null===o||void 0===o?void 0:o.length)>0)})),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("h2",{children:"Search for a Diet"}),Object(Z.jsx)(Te,{updateDietNameSearch:function(e){i(e)},updateDietCategoriesSearch:function(e){d(e)}}),e.isSearchActive&&Object(Z.jsx)(_e,{dietNameSearch:r,dietCategoriesSearch:o})]})}var tt,nt,at,rt=n(35),it=n(85),ct=it.a.div(tt||(tt=Object(rt.a)(["\n  margin: 0 ","px;\n  transition: transform 500ms ease;\n  border-radius: 20px;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  transform: scale(1);\n  user-select: none;\n\n  flex: 0 0\n    calc(\n      100% / "," -\n        ","px\n    );\n\n  img {\n    height: 100%;\n    width: 100%;\n    border-radius: 1.5vw;\n    box-sizing: border-box;\n  }\n\n  :hover {\n    transform: scale(",") !important;\n  }\n\n  :hover ~ * {\n    transform: translateX(",") !important;\n  }\n\n  &.left {\n    transform-origin: left;\n\n    :hover ~ * {\n      transform: translateX(",") !important;\n    }\n  }\n\n  &.right {\n    transform-origin: right;\n\n    :hover ~ * {\n      transform: translateX(0%) !important;\n    }\n  }\n"])),(function(e){return e.slideMargin}),(function(e){return e.visibleSlides}),(function(e){return 2*e.slideMargin}),(function(e){return e.zoomFactor/100+1}),(function(e){return e.zoomFactor/2+"%"}),(function(e){return e.zoomFactor+"%"})),st=function(e){var t=e.slideMargin,n=e.visibleSlides,a=e.zoomFactor,r=e.slideClass,i=e.id,c=e.callback,s=e.callbackOut,o=e.children;return Object(Z.jsx)(ct,{zoomFactor:a,slideMargin:t,visibleSlides:n,className:r,onMouseOver:function(){return c(i)},onMouseOut:s,children:o})},ot=it.a.div(nt||(nt=Object(rt.a)(["\n  overflow: hidden;\n  position: relative;\n  background: #f8f8f8;\n  padding: "," 0;\n\n  .button-wrapper {\n    position: absolute;\n    width: 55px;\n    height: 100%;\n    top: 0;\n    padding: "," 0;\n    box-sizing: border-box;\n  }\n\n  .button {\n    display: block;\n    background: rgb(0, 0, 0, 0.7);\n    border: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    color: #fff;\n    font-size: 3rem;\n    font-weight: 800;\n    cursor: pointer;\n    outline: none;\n    transition: all 0.7s;\n    user-select: none;\n\n    :hover {\n      opacity: 0.5;\n    }\n  }\n\n  .back {\n    left: 0;\n    border-radius: 0 1.5vw 1.5vw 0;\n  }\n\n  .forward {\n    right: 0;\n    border-radius: 1.5vw 0 0 1.5vw;\n  }\n"])),(function(e){return e.zoomFactor/e.visibleSlides*.7+"%"}),(function(e){return e.zoomFactor/7+"%"})),lt=it.a.div(at||(at=Object(rt.a)(["\n  display: flex;\n  padding: 0 55px;\n  transition: transform ","ms ease;\n\n  :hover "," {\n    transform: translateX(",");\n  }\n"])),(function(e){return e.pageTransition}),ct,(function(e){return e.transformValue})),dt=function(e){var t=e.children,n=e.zoomFactor,r=e.slideMargin,i=e.maxVisibleSlides,c=e.pageTransition,s=Object(a.useState)(0),o=Object(l.a)(s,2),d=o[0],u=o[1],j=Object(a.useState)("-".concat(n/2,"%")),b=Object(l.a)(j,2),x=b[0],h=b[1],p=Object(a.useState)(0),O=Object(l.a)(p,2),f=O[0],m=O[1],g=Object(a.useRef)(null),v=function(e,t){return t>1200?e:t>992?4:t>768?3:2}(i,f),y=Math.ceil(t.length/v)-1;Object(a.useEffect)((function(){new ResizeObserver((function(e){m(e[0].contentRect.width)})).observe(g.current)}),[g]),Object(a.useEffect)((function(){g&&g.current&&(d>y&&u(y),g.current.style.transform="translate3D(-".concat(d*f,"px, 0, 0)"))}),[g,d,f,y]);var w=function(e){g.current&&(g.current.style.pointerEvents="none"),setTimeout((function(){g.current&&(g.current.style.pointerEvents="all")}),c),u(d+(e?1:-1)),g.current&&(g.current.style.transform="translate3D(-".concat((d+(e?1:-1))*f,"px, 0, 0)"))},S=function(e){e%v===1&&h("0%"),e%v===0&&h("-".concat(n,"%"))},C=function(){h("-".concat(n/2,"%"))},k=function(e,t){return["right","left"][e%t]||""};return Object(Z.jsxs)(ot,{zoomFactor:n,visibleSlides:v,children:[Object(Z.jsx)(lt,{visibleSlides:v,transformValue:x,zoomFactor:n,slideMargin:r,pageTransition:c,ref:g,children:t.map((function(e,t){return Object(Z.jsx)(st,{slideMargin:r,visibleSlides:v,zoomFactor:n,slideClass:k(t+1,v),id:t+1,callback:S,callbackOut:C,children:e},t)}))}),d>0&&Object(Z.jsx)("div",{className:"button-wrapper back",children:Object(Z.jsx)("button",{className:"button back",onClick:function(){return w(!1)},children:"\u2039"})}),d!==y&&Object(Z.jsx)("div",{className:"button-wrapper forward",children:Object(Z.jsx)("button",{className:"button forward",onClick:function(){return w(!0)},children:"\u203a"})})]})};function ut(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(!1),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(a.useState)({}),b=Object(l.a)(j,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){function t(){return(t=Object(m.a)(f.a.mark((function t(){var n,a,r,c,s,o,l,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(ke.diet+"?Page=1&PageSize=100&categoryIds=".concat(e.id));case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,r=[],c=Object(He.a)(a.pagination),t.prev=8,c.s();case 10:if((s=c.n()).done){t.next=22;break}return o=s.value,t.next=14,fetch(ke.diet+"/".concat(o.id));case 14:return l=t.sent,t.next=17,l.json();case 17:(d=t.sent).id=o.id,r.push(d);case 20:t.next=10;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(8),c.e(t.t0);case 27:return t.prev=27,c.f(),t.finish(27);case 30:i(r);case 31:case"end":return t.stop()}}),t,null,[[8,24,27,30]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.id]),Object(Z.jsxs)(x.a,{maxWidth:"xl",children:[Object(Z.jsx)("h2",{children:e.name}),Object(Z.jsx)(Re.a,{onClose:function(){return u(!1)},open:o,children:Object(Z.jsx)($e,Object(d.a)({},h))}),Object(Z.jsx)(dt,Object(d.a)(Object(d.a)({},{zoomFactor:30,slideMargin:10,maxVisibleSlides:5,pageTransition:500}),{},{children:r.map((function(e){return Object(Z.jsx)("div",{onClick:function(){return function(e){u(!0),p(e)}(e)},children:Object(Z.jsx)(Ye,Object(d.a)({},e))},e.id)}))}))]})}function jt(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){fetch(ke.category+"?Page=1&PageSize=100").then((function(e){return e.json()})).then((function(e){r(e.pagination)}))}),[]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("h2",{children:"...or Explore Diets by Category!"}),n.map((function(e){return Object(Z.jsx)("div",{children:Object(Z.jsx)(ut,Object(d.a)({},e))},e.id)}))]})}function bt(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(Z.jsxs)(x.a,{maxWidth:"xl",children:[Object(Z.jsx)("h1",{children:"Browse Diets"}),Object(Z.jsx)(et,{isSearchActive:n,handleSearchActivation:function(e){r(e)}}),Object(Z.jsx)("div",{style:n?{display:"none"}:{},children:Object(Z.jsx)(jt,{})})]})}var xt=n(16),ht=n(111),pt=n(435),Ot=n(432),ft=a.forwardRef((function(e,t){return Object(Z.jsx)(Ot.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))}));function mt(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(0),s=Object(l.a)(c,2),o=s[0],d=s[1],u=Object(a.useState)(0),j=Object(l.a)(u,2),x=j[0],h=j[1],p=Object(a.useState)(!1),O=Object(l.a)(p,2),f=O[0],m=O[1];return Object(Z.jsxs)(ve.a,{sx:{minWidth:275},children:[Object(Z.jsxs)(we.a,{sx:{boxSizing:"border-box"},children:[Object(Z.jsx)("div",{style:{marginBottom:"16px"},children:Object(Z.jsx)(b.a,{color:"text.primary",variant:"h5",textAlign:"center",children:"Add Biometric"})}),Object(Z.jsx)(k.a,{id:"login-email-input",label:"Weight",variant:"outlined",required:!0,type:"number",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:r,onChange:function(e){return i(parseInt(e.target.value||"0"))}}),Object(Z.jsx)(k.a,{id:"login-password-input",label:"Height",variant:"outlined",required:!0,type:"number",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:o,onChange:function(e){return d(parseInt(e.target.value||"0"))}}),Object(Z.jsx)(k.a,{id:"login-password-input",label:"Fat Index",variant:"outlined",required:!0,type:"number",sx:{width:"100%",marginBottom:"8px",boxSizing:"border-box"},value:x,onChange:function(e){return h(parseInt(e.target.value||"0"))}})]}),Object(Z.jsx)(ye.a,{sx:{justifyContent:"flex-end",padding:"0px 16px 16px 16px"},children:Object(Z.jsx)(g.a,{size:"large",variant:"contained",disabled:!(r&&o&&x),onClick:function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({weight:r,height:o,fatIndex:x})},n=JSON.parse(localStorage.getItem("user")).id;fetch("".concat(ke.biometric,"/").concat(n),t).then((function(t){t.ok?e.close():m(!0)}))},children:"Add"})}),Object(Z.jsx)(pt.a,{open:f,autoHideDuration:6e3,onClose:function(){return m(!1)},children:Object(Z.jsx)(ft,{onClose:function(){return m(!1)},severity:"error",sx:{width:"100%"},children:"Hubo un error :( Por favor intentalo de nuevo"})})]})}function gt(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(a.useState)(0),j=Object(l.a)(u,2),h=j[0],p=j[1],O=Object(a.useState)(0),f=Object(l.a)(O,2),m=f[0],v=f[1],y=Object(a.useState)(0),w=Object(l.a)(y,2),S=w[0],C=w[1],k=Object(a.useState)(!1),z=Object(l.a)(k,2),I=z[0],N=z[1],B=Object(a.useState)({}),P=Object(l.a)(B,2),W=P[0],A=P[1];var F=Object(a.useState)({labels:[],datasets:[{label:"Weight",data:[],backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:1}]}),M=Object(l.a)(F,2),q=M[0],E=M[1],D=Object(a.useState)({scales:{y:{beginAtZero:!1,suggestedMin:0,suggestedMax:0}}}),T=Object(l.a)(D,2),H=T[0],J=T[1],R=Object(a.useState)(),L=Object(l.a)(R,2),Y=L[0],G=L[1];return Object(a.useEffect)((function(){var e={method:"GET",headers:{"Content-Type":"application/json"}},t=JSON.parse(localStorage.getItem("user")).id,n=JSON.parse(localStorage.getItem("user")).dietId;fetch("".concat(ke.dashboard,"/").concat(t),e).then((function(e){return e.json()})).then((function(e){null!==e.latestBiometrics&&(o(e.latestBiometrics.weight),p(e.latestBiometrics.height),v(e.latestBiometrics.caloriesConsumed),C(e.latestBiometrics.fatIndex));var t=e.biometricHistory.map((function(e){return e.date.substring(0,10)})),n=e.biometricHistory.map((function(e){return e.weight}));E({labels:t,datasets:[{label:"Weight",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:1,data:n}]}),J({scales:{y:{beginAtZero:!1,suggestedMin:Math.min.apply(Math,Object(xt.a)(n))-1,suggestedMax:Math.max.apply(Math,Object(xt.a)(n))+1}}})})),fetch("".concat(ke.diet,"/").concat(n),e).then((function(e){return e.json()})).then((function(e){400!==e.status?(e.id=n,G(e)):console.log(e)}))}),[]),Object(Z.jsxs)(x.a,{maxWidth:"lg",style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(Z.jsxs)(b.a,{variant:"h3",style:{margin:"10px"},children:[" ","Dashboard"," "]}),Object(Z.jsx)("h2",{children:"My diet"}),Object(Z.jsx)(Re.a,{onClose:function(){return N(!1)},open:I,children:Object(Z.jsx)($e,Object(d.a)({},W))}),Object(Z.jsx)("div",{onClick:function(){Y&&(N(!0),A(Y))},children:Y?Object(Z.jsx)(Ye,Object(d.a)({},Y)):Object(Z.jsx)("p",{children:"You currently don't have a diet selected."})}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("div",{style:{display:"flex"},children:[Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Latest Weight"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[s," kg"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Latest Height"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[h," m"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Calories consumed"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[m," cal"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Fat index"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[S,"%"]})]})})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)(g.a,{onClick:function(){return r(!0)},children:"Add Biometrics"}),Object(Z.jsx)(Re.a,{onClose:function(){return r(!1)},open:n,children:Object(Z.jsx)(mt,{close:function(){return r(!1)}})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{style:{width:"50vw"},children:Object(Z.jsx)(ht.a,{data:q,options:H})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{})]})}var vt=n(448),yt=n(449);var wt=function(e){var t=Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(g.a,{title:"Dashboard",href:he,color:"primary",children:"Dashboard"}),Object(Z.jsx)(g.a,{title:"Browse",href:pe,color:"primary",children:"Browse"})]}),n=Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(g.a,{title:"Configurator",href:me,color:"primary",children:"Configurator"})}),a=Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(g.a,{title:"Browse",href:pe,color:"primary",children:"Browse"})});return Object(Z.jsx)(j.a,{sx:{width:"100%"},children:function(){switch(e.userType){case"Customer":return t;case"Admin":return n;default:return a}}()})},St=n(207),Ct=n(458),kt=n(427),zt=n(205),It=n.n(zt),Nt=n(426),Bt=n(204),Pt=n.n(Bt),Wt=n(206),At=n.n(Wt);function Ft(e){var t=a.useState(null),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Boolean(r),s=function(){i(null)},d=Object(o.f)();return Object(Z.jsxs)(a.Fragment,{children:[Object(Z.jsx)(j.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(Z.jsx)(Ve.a,{title:"Account settings",children:Object(Z.jsx)(w.a,{onClick:function(e){i(e.currentTarget)},size:"small",sx:{ml:2},children:Object(Z.jsx)(Ke.a,{sx:{width:32,height:32},children:e.firstName[0]})})})}),Object(Z.jsxs)(St.a,{anchorEl:r,open:c,onClose:s,onClick:s,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(Ke.a,{})," General information"]}),Object(Z.jsxs)(Ct.a,{onClick:function(){d.push("/account"),window.location.reload()},children:[Object(Z.jsx)(Ke.a,{})," My account"]}),Object(Z.jsx)(Nt.a,{}),Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(kt.a,{children:Object(Z.jsx)(Pt.a,{fontSize:"small"})}),"Preferences"]}),Object(Z.jsxs)(Ct.a,{onClick:function(){d.push("/help"),window.location.reload()},children:[Object(Z.jsx)(kt.a,{children:Object(Z.jsx)(It.a,{fontSize:"small"})}),"Help"]}),Object(Z.jsxs)(Ct.a,{onClick:function(){localStorage.removeItem("user"),d.push(pe),window.location.reload()},children:[Object(Z.jsx)(kt.a,{children:Object(Z.jsx)(At.a,{fontSize:"small"})}),"Logout"]})]})]})}function Mt(){var e=Object(o.f)(),t=Object(a.useState)(void 0),n=Object(l.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);(function(e){return e.avatar&&e.firstName&&e.lastName&&e.type})(t)&&i(t)}}),[i]);return Object(Z.jsx)(j.a,{sx:{flexGrow:1},children:Object(Z.jsx)(vt.a,{position:"static",style:{backgroundColor:"white"},children:Object(Z.jsxs)(yt.a,{children:[Object(Z.jsx)(wt,{userType:null===r||void 0===r?void 0:r.type}),r?Object(Z.jsx)(Ft,Object(d.a)({},r)):Object(Z.jsx)(g.a,{color:"primary",onClick:function(){e.push("/login")},children:r?"Account":"Login"})]})})})}function qt(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(l.a)(i,2),s=c[0],o=c[1],d=Object(a.useState)(0),u=Object(l.a)(d,2),j=u[0],h=u[1],p=Object(a.useState)(0),O=Object(l.a)(p,2),f=O[0],m=O[1],g=Object(a.useState)({labels:[],datasets:[{label:"Weight",data:[],backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:1}]}),v=Object(l.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)({scales:{y:{beginAtZero:!1,suggestedMin:0,suggestedMax:0}}}),C=Object(l.a)(S,2),k=C[0],z=C[1],I=JSON.parse(localStorage.getItem("user")).firstName,N=JSON.parse(localStorage.getItem("user")).lastName;return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")).id;fetch("".concat(ke.dashboard,"/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.latestBiometrics.weight),o(e.latestBiometrics.height),h(e.latestBiometrics.caloriesConsumed),m(e.latestBiometrics.fatIndex);var t=e.biometricHistory.map((function(e){return e.date.substring(0,10)})),n=e.biometricHistory.map((function(e){return e.weight}));w({labels:t,datasets:[{label:"Weight",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:1,data:n}]}),z({scales:{y:{beginAtZero:!1,suggestedMin:Math.min.apply(Math,Object(xt.a)(n))-1,suggestedMax:Math.max.apply(Math,Object(xt.a)(n))+1}}})}))}),[k]),Object(Z.jsxs)(x.a,{maxWidth:"lg",style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(Z.jsxs)(Ze.a,{direction:"row",spacing:2,children:[Object(Z.jsx)(Ke.a,{src:"",style:{margin:"15px"}}),Object(Z.jsxs)(b.a,{variant:"h3",style:{margin:"10px"},children:[" ",I," ",N," "]})]}),Object(Z.jsx)("br",{}),Object(Z.jsxs)("div",{style:{display:"flex"},children:[Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Latest Weight"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[n," kg"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Latest Height"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[s," m"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Calories consumed"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[j," cal"]})]})}),Object(Z.jsx)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{variant:"h6",color:"primary",children:"Fat index"}),Object(Z.jsxs)(b.a,{variant:"h5",children:[f,"%"]})]})})]}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{}),Object(Z.jsx)("div",{style:{width:"50vw"},children:Object(Z.jsx)(ht.a,{data:y,options:k})}),Object(Z.jsx)("br",{}),Object(Z.jsx)("br",{})]})}function Et(){return Object(Z.jsxs)(x.a,{maxWidth:"lg",style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(Z.jsx)(b.a,{variant:"h3",style:{margin:"10px"},children:"           Help    "}),Object(Z.jsx)("br",{}),Object(Z.jsx)(b.a,{variant:"body1",style:{margin:"10px"},color:"black",children:"Results may vary from person to person depending on their age, health, physical activity, discipline, and many others factors. Check with your doctor before taking any diet and exercise program. The content on this page is informative and do not substitute medical instructions, diagnose or treatment. Check with your doctor any medical condition. Never ignore your doctor's opinion over the content of this website. This website does not recommend doctors, products, tests or procedures. Use the information on this website under your responsibility to improve your eating habits."}),Object(Z.jsx)(b.a,{variant:"body1",style:{margin:"10px"},color:"black",children:"This website does not have any dietitians or medical experts on staff. Our purpose is to help you make changes easier and quicker to your diet and your own parameters and make shopping and cooking your diet easier."})]})}function Dt(e){return Object(Z.jsxs)(ve.a,{sx:{maxWidth:345,minWidth:200},style:{margin:"10px"},children:[Object(Z.jsx)(Le.a,{title:e.name}),Object(Z.jsx)(we.a,{children:Object(Z.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:[e.kilocalories," kilocalories"]})}),Object(Z.jsx)(ye.a,{children:Object(Z.jsx)(g.a,{children:" See more "})})]})}function Tt(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){fetch(ke.meal+"/".concat(e.mealId)).then((function(e){return e.json()})).then((function(t){t.id=e.mealId,t.ingredients=t.mealIngredients,i(t)}))}),[]),Object(Z.jsxs)(ve.a,{style:{overflow:"auto"},children:[Object(Z.jsx)(Ge.a,{component:"img",height:"140",image:null===r||void 0===r?void 0:r.imageRef}),Object(Z.jsxs)(we.a,{children:[Object(Z.jsx)(b.a,{gutterBottom:!0,variant:"h4",component:"div",children:null===r||void 0===r?void 0:r.name}),Object(Z.jsx)(b.a,{variant:"h6",component:"div",children:"Preparation"}),Object(Z.jsx)(b.a,{variant:"body2",color:"text.secondary",children:null===r||void 0===r?void 0:r.preparation}),Object(Z.jsx)(b.a,{variant:"h6",component:"div",children:"Ingredients"}),Object(Z.jsx)(v.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:null===r||void 0===r?void 0:r.mealIngredients.map((function(e,t){var n="".concat(e.amount," x ").concat(e.name);return Object(Z.jsxs)(y.a,{children:[Object(Z.jsx)(Xe.a,{children:Object(Z.jsx)(Ke.a,{children:t+1})}),Object(Z.jsx)(S.a,{primary:n,secondary:e.notes})]},e.ingredientId)}))})]})]})}function Ht(){var e=Object(a.useState)(void 0),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);(function(e){return e.avatar&&e.firstName&&e.lastName&&e.type})(t)&&fetch(ke.user+"/".concat(t.id)).then((function(e){return e.json()})).then((function(e){r(e)}))}}),[r]);var i=function(){var e=n;e.dietId=h.id,fetch(ke.diet+"/".concat(h.id,"/user/").concat(null===n||void 0===n?void 0:n.id),{method:"PUT"}),r(Object(d.a)({},e)),localStorage.setItem("user",JSON.stringify(e))},c=Object(o.g)().pathname.split("/")[2],s=Object(a.useState)(),u=Object(l.a)(s,2),h=u[0],p=u[1];Object(a.useEffect)((function(){fetch(ke.diet+"/".concat(c)).then((function(e){return e.json()})).then((function(e){e.id=c,p(e)}))}),[]);var O=Object(a.useState)(!1),f=Object(l.a)(O,2),m=f[0],v=f[1],y=Object(a.useState)(""),w=Object(l.a)(y,2),S=w[0],C=w[1];return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Re.a,{onClose:function(){return v(!1)},open:m,children:Object(Z.jsx)(Tt,{mealId:S})}),Object(Z.jsxs)(x.a,{maxWidth:"xl",children:[Object(Z.jsx)(Ge.a,{component:"img",height:"194",image:null===h||void 0===h?void 0:h.imageRef}),Object(Z.jsx)(j.a,{sx:{mb:1,mt:1},children:void 0!==n?n.dietId!==(null===h||void 0===h?void 0:h.id)?Object(Z.jsx)(g.a,{size:"small",color:"secondary",onClick:i,children:'Add to "My Diet"'}):Object(Z.jsx)(g.a,{variant:"contained",color:"success",children:"This is your Diet!"}):Object(Z.jsx)(Ve.a,{title:"Log in to add a diet",arrow:!0,children:Object(Z.jsx)("span",{children:Object(Z.jsx)(g.a,{disabled:!0,children:'Add to "My Diet"'})})})}),Object(Z.jsx)(b.a,{variant:"h2",component:"div",children:null===h||void 0===h?void 0:h.name}),Object(Z.jsx)(j.a,{sx:{mb:1},children:Object(Z.jsx)(Ze.a,{direction:"row",spacing:1,children:null===h||void 0===h?void 0:h.categories.map((function(e){return Object(Z.jsx)(Ve.a,{title:e.description,arrow:!0,children:Object(Z.jsx)(Ue.a,{label:e.name,variant:"outlined"})},e.id)}))})}),Object(Z.jsx)(b.a,{variant:"body1",gutterBottom:!0,children:null===h||void 0===h?void 0:h.description}),Object(Z.jsx)(b.a,{variant:"h4",gutterBottom:!0,component:"div",children:"Diet meals"}),Object(Z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(Z.jsx)(j.a,{sx:{flexGrow:1},children:Object(Z.jsx)(je.a,{container:!0,children:null===h||void 0===h?void 0:h.meals.map((function(e,t){return Object(Z.jsx)(je.a,{item:!0,xs:12,sm:4,md:3,children:Object(Z.jsx)("div",{onClick:function(){return t=e.id,v(!0),void C(t);var t},children:Object(Z.jsx)(Dt,Object(d.a)({},e))})},t)}))})})})]})]})}function Jt(){return Object(Z.jsx)(s.a,{children:Object(Z.jsx)("div",{children:Object(Z.jsxs)(o.c,{children:[Object(Z.jsx)(o.a,{path:xe,exact:!0,children:Object(Z.jsx)(Be,{})}),Object(Z.jsx)(o.a,{path:be,exact:!0,children:Object(Z.jsx)(Ie,{})}),Object(Z.jsxs)(o.a,{path:pe,exact:!0,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(bt,{})]}),Object(Z.jsxs)(o.a,{path:me,exact:!0,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(ue,{})]}),Object(Z.jsxs)(o.a,{path:Oe,exact:!0,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(qt,{})]}),Object(Z.jsxs)(o.a,{path:fe,exact:!0,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(Et,{})]}),Object(Z.jsxs)(o.a,{path:he,exact:!0,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(gt,{})]}),Object(Z.jsxs)(o.a,{path:ge,children:[Object(Z.jsx)(Mt,{}),Object(Z.jsx)(Ht,{})]})]})})})}var Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,459)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(Jt,{})}),document.getElementById("root")),Rt()}},[[366,1,2]]]);
//# sourceMappingURL=main.e9ae88b3.chunk.js.map